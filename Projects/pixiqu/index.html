<html>
 <head>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="index.css">
 </head>

 <body>

    <div id="devconsole">

    </div>

     <div class="MenuContainer">
        <p id="square">Square</p>
        <p>Circle</p>
        <p>Rectangle</p>
        <p>Text</p>
        <input type="color" id="favcolor" name="favcolor" value="#ff0000">
        <p>Border-radius px</p>
        <input type="range" id="rangepixl" value="0" min="0" max="100"/>
        <p>Border-radius %</p>
        <input type="range" id="rangeage" value="0" min="0" max="100"/>
        <p>Text Shaddow</p>
     
        <p>Resize</p>
     </div>

     <div id="canvas">

     </div>


     <script>

        var player;

        var incontrol = false;
        var irncontrol = false;
          document.getElementById("square").onclick = function() {
           // sqre("div", "crtsqre", "sqresize")

            // sqre("textarea", "crttxt",  "sqresizetxt")

            crttxt()
            }

        function sqre(typex, elementclssname, resize) {
            
            crtsqre = document.createElement("div")
              crtsqre.setAttribute("class", "elementclssname")
              crtsqre.setAttribute("data-first-name", "npc")
              crtsqre.style.left = 50 + "%";
              crtsqre.style.top = 50 + "%";

              crtsqrechld = document.createElement(typex)
              crtsqrechld.setAttribute("class", elementclssname)

              crtsqre.appendChild(crtsqrechld)
              typex == "input" ? crtsqrechld.value = "Typography" : false

            
              //crtsqre.innerText = "npc"

              sqresize = document.createElement("label")
              sqresize.setAttribute("class", "sqresize")
              sqresize.setAttribute("data-first-name", "npc")
              sqresize.src = "increase.png"
              sqresize.innerText = "npc"

              sqresize.onclick = function () {
               // alert(22)
                 if(this.innerText == "npc") {
                   alert("input")
                   this.innerText = "resize"
                     irncontrol = true;
                 } else {
                    this.innerText = "npc"
                     irncontrol = false;
                 }
                 
                 player = this;
              }

              crtsqre.appendChild(sqresize);
              
              document.body.appendChild(crtsqre)

              crtsqre.onclick = function () {

                //alert(888)
                // this.innerText = "player"
                 if(this.dataset.firstName == "npc") {
                   //alert(this.dataset.firstName)
                   this.dataset.firstName = "players"
                    incontrol = true;
                 } else {
                    this.dataset.firstName = "npc"
                    incontrol = false;
                 }

                if(irncontrol == true) {
                    incontrol = false;
                }
                 
                 player = this;
              }
        }

        function crttxt() {
            
            crtsqre = document.createElement("div")
              crtsqre.setAttribute("class", "inputparentcontainer")
              crtsqre.setAttribute("data-first-name", "npc")
              crtsqre.style.left = 25 + "%";
              crtsqre.style.top = 25 + "%";

              crtsqrechld = document.createElement("textarea")
              crtsqrechld.setAttribute("class", "sqresizetxt")

              crtsqre.appendChild(crtsqrechld)
               crtsqrechld.value = "Typography";
            
              //crtsqre.innerText = "npc"

            //   sqresize = document.createElement("label")
            //   sqresize.setAttribute("class", "sqresize")
            //   sqresize.setAttribute("data-first-name", "npc")
            //   sqresize.src = "increase.png"
            //   sqresize.innerText = "npc"

            //   sqresize.onclick = function () {
            //    // alert(22)
            //      if(this.innerText == "npc") {
            //        alert("input")
            //        this.innerText = "resize"
            //          irncontrol = true;
            //      } else {
            //         this.innerText = "npc"
            //          irncontrol = false;
            //      }
                 
            //      player = this;
            //   }

            //   crtsqre.appendChild(sqresize);
              
              document.body.appendChild(crtsqre)

              crtsqrechld.oninput = function() {
                incontrol = false;
             
              }

              crtsqre.onclick = function () {


                document.getElementById("devconsole").innerHTML = incontrol;
                //alert(888)
                // this.innerText = "player"
               // this.style.border = "2px solid pink"
                 if(this.dataset.firstName == "npc") {
                   //alert(this.dataset.firstName)
                   this.dataset.firstName = "players"
                    incontrol = true;

                    this.style.border = "2px solid red"
                 } else {
                    this.dataset.firstName = "npc"
                    incontrol = false;
                    this.style.border = "2px solid green"
                 }

                if(irncontrol == true) {
                    incontrol = false;
                }
                 
                 player = this;
              }

              
        }



    

        document.getElementById("canvas").onclick = function() {
            alert("canvas")

            if(irncontrol == true) {
                  irncontrol = false;
                 }

                 if(incontrol == true) {
                  incontrol = false;
                 }
        }

        document.body.onmousemove = function(event) {myFunction(event)};


       

function myFunction(e) {
  let x = e.clientX;
  let y = e.clientY;

  if(incontrol == true) {
//  player.style.left = x;
//   player.style.top = y;

  
  var ctrlposy = parseInt(window.getComputedStyle(player, null).getPropertyValue("top"));
  var ctrlposx = parseInt(window.getComputedStyle(player, null).getPropertyValue("left"));
  

  console.log(ctrlposy)
  console.log(ctrlposx)

  heightposy = -ctrlposy + y;
    widthposx = -ctrlposx + x;
//   player.style.height = heightposy + - 10
//   player.style.width = widthposx + -10

  player.childNodes[0].style.fontSize = heightposy + - 10
  }

  if(irncontrol == true) {



//   var ctrlposy = parseInt(window.getComputedStyle(player, null).getPropertyValue("top"));
//   var ctrlposx = parseInt(window.getComputedStyle(player, null).getPropertyValue("left"));
  

//   console.log(ctrlposy)
//   console.log(ctrlposx)

//   heightposy = -ctrlposy + y;
//     widthposx = -ctrlposx + x;
//   player.style.height = heightposy + - 10
//   player.style.width = widthposx + -10

//   player.parentNode.childNode[1].style.fontSize = heightposy + - 10


}

//player.style.border = "8px solid rgba("+x+", 88, 255, 0.8)"
  
  let coor = "Coordinates: (" + x + "," + y + ")";
  document.getElementById("devconsole").innerHTML = incontrol;

}

// document.getElementById("range").oninput = function() {
//    console.log(this.value)
// }

document.getElementById("favcolor").oninput = function() {
    player.style.backgroundColor = this.value;
}



     </script>
    </body>
</html>